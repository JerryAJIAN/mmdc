<div class="page-header">
  <%= link_to new_author_path, class: 'btn btn-primary' do %>
    <span class="glyphicon glyphicon-plus"></span>
    新規登録
  <% end %>
  <h1>作者情報</h1>
</div>

<%= search_form_for @q , html: { class: "form-horizontal", role: "form"} do |f|  %>

<div class="panel panel-primary">
    <div class="panel-heading">
        <span class="glyphicon glyphicon-search" aria-hidden="true">
        <span>検索条件</span>
    </div>
    <div class="panel-body">
        <div class="form-group">
            <%= f.label :name_cont, '作者名', class: "col-sm-2 control-label" %>
            <div class="col-sm-3">
              <%= f.text_field :name_cont, class: "form-control" %>
            </div>
            <%= f.label :disp_name_cont, "表記名", class: "col-sm-2 control-label" %>
            <div class="col-sm-3">
              <%= f.search_field :disp_name_cont, class: "form-control" %>
            </div>
            <div class="col-sm-2">
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-4 col-sm-offset-2"><%= f.submit '検索' ,class: "btn btn-primary" %></div>
        </div>
    </div>
</div>
<% end %>

<div class="table-responsive">
  <table class="table table-striped table-bordered table-hover">
    <thead>
      <tr>
            <th><%= sort_link(@q, :name, "作者名") %></th>
            <th><%= sort_link(@q, :disp_name) %></th>
            <th>Web</th>
            <th>ニコニコ</th>
            <th>Twitter</th>
            <th>Pixiv</th>
            <th>Email</th>
      </tr>
    </thead>

    <tbody>
      <%= content_tag_for(:tr, @authors) do |author| %>
            <td><%= link_to author.name, edit_author_path(author) %></td>
            <td><%= author.disp_name %></td>
            <td><%= unless author.url.blank?  then link_to '外部サイト', author.url , :target => "_blank" end %></td>
            <td><%= author.nico %></td>
            <td><%= author.twitter %></td>
            <td><%= author.pixiv %></td>
            <td><%= mail_to(author.email) %></td>
      <% end %>
    </tbody>
  </table>
  <%= paginate(@authors) %>
</div>
